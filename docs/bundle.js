!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=document.querySelector("canvas"),o=r.getContext("2d");r.width=document.body.clientWidth,r.height=document.body.clientHeight;var i,a={canvas:r,context:o,cursor:{p:{x:0,y:0},v:{x:0,y:0},a:{x:0,y:500}},paused:!1,dragging:!1,dragX:0,maxSpeed:1e3,centerA:500,points:function(){for(var e=[{p:{x:0,y:4e3},hit:!1}],t=0;t<100;t++)e.push({p:{x:t%2?-r.width/4:r.width/4,y:2e3*(t+1)+4e3},hit:!1});return e}()};document.addEventListener("keydown",(function(e){" "===e.key&&(a=n(n({},a),{paused:!a.paused}),console.log("paused:",a.paused))})),document.addEventListener("pointerdown",(function(e){i=e.clientX,a=n(n({},a),{dragging:!0})})),document.addEventListener("pointermove",(function(e){var t=e.clientX-i;i=e.clientX,a.dragging&&(a=n(n({},a),{dragX:a.dragX+t}))})),document.addEventListener("pointerup",(function(e){a=n(n({},a),{dragging:!1})})),document.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1});var u=0;window.requestAnimationFrame((function e(t){if(a.paused)return u=t,void window.requestAnimationFrame(e);var i=t.valueOf()-u.valueOf();o.resetTransform(),o.clearRect(0,0,r.width,r.height),o.fillStyle="black",o.fillRect(0,0,r.width,r.height),function(e){var t=e.canvas,n=e.context,r=t.height/4;n.resetTransform(),n.translate(0,e.cursor.p.y%r),n.strokeStyle="white";for(var o=0;o<4;o++){var i=o*r;n.beginPath(),n.moveTo(0,i),n.lineTo(t.width,i),n.stroke()}}(a=function(e){for(var t=e.cursor,r=[],o=0,i=e.points;o<i.length;o++){var a=i[o];Math.abs(a.p.y-t.p.y)<50&&Math.abs(a.p.x-t.p.x)<50?r.push(n(n({},a),{hit:!0})):r.push(a)}return n(n({},e),{points:r})}(a=function(e,t){var r=e.maxSpeed,o=e.cursor,i={x:o.p.x+o.v.x*(t/1e3),y:o.p.y+o.v.y*(t/1e3)},a=0;o.p.x<0?a=e.centerA:o.p.x>0&&(a=-e.centerA);var u={x:o.v.x+o.a.x*(t/1e3)+a*(t/1e3),y:o.v.y+o.a.y*(t/1e3)},c=Math.sqrt(u.x*u.x+u.y*u.y);return c>r&&(u={x:u.x/c*r,y:u.y/c*r}),n(n({},e),{cursor:n(n({},o),{p:i,v:u})})}(a=function(e,t){if(0===e.dragX)return e;var r=e.cursor;return n(n({},e),{cursor:n(n({},r),{v:n(n({},r.v),{x:r.v.x+e.dragX})}),dragX:0})}(a),i))),function(e){var t=e.context,n=e.canvas,r=e.cursor;t.resetTransform(),t.translate(n.width/2,n.height/2);for(var o=0,i=e.points;o<i.length;o++){var a=i[o];a.p.y>r.p.y-n.height/2&&a.p.y<r.p.y+n.height/2&&(a.hit?t.fillStyle="orange":t.fillStyle="blue",t.beginPath(),t.arc(a.p.x,r.p.y-a.p.y,20,0,2*Math.PI),t.fill())}}(a),function(e){var t=e.context,n=e.canvas;t.resetTransform(),t.translate(n.width/2+e.cursor.p.x,n.height/2),t.rotate(-Math.atan2(e.cursor.v.y,e.cursor.v.x)+Math.PI/2),t.fillStyle="white",t.beginPath(),t.moveTo(0,-50),t.lineTo(50,50),t.lineTo(-50,50),t.lineTo(0,-50),t.fill()}(a),function(e){var t=e.context,n=e.points.reduce((function(e,t){return e+(t.hit?1:0)}),0);t.fillStyle="white",t.resetTransform(),t.font="48px serif",t.fillText("Score: "+n,0,48)}(a),u=t,window.requestAnimationFrame(e)}))}]);